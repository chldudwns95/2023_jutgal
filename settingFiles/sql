-- 반찬
CREATE TABLE DISH_INFO (
	DISH_CODE     VARCHAR(100)  NOT NULL COMMENT '반찬코드', -- 반찬코드
	DISH_NAME     VARCHAR(100)  NULL     COMMENT '반찬이름', -- 반찬이름
	DISH_CONTENTS VARCHAR(4000) NULL     COMMENT '반찬소개', -- 반찬소개
	DISH_PRICE    VARCHAR(100)  NULL     COMMENT '가격', -- 가격
	DISH_G        VARCHAR(100)  NULL     COMMENT '양', -- 양
	SUBTITLE_CODE VARCHAR(10)   NULL     COMMENT '서브타이틀_번호', -- 서브타이틀_번호
	DISH_VIEW_CNT INT           NULL     COMMENT '조회수' -- 조회수
)
COMMENT '반찬';

-- 반찬
ALTER TABLE DISH_INFO
	ADD CONSTRAINT PK_DISH_INFO -- 반찬 기본키
		PRIMARY KEY (
			DISH_CODE -- 반찬코드
		);

-- 공통
CREATE TABLE COMM_TABLE (
	COMM_CD    VARCHAR(100) NOT NULL COMMENT '코드', -- 코드
	COMM_NM    VARCHAR(100) NULL     COMMENT '이름', -- 이름
	UP_COMM_CD VARCHAR(100) NULL     COMMENT '상위코드', -- 상위코드
	REF_CODE   VARCHAR(100) NULL     COMMENT '참조코드', -- 참조코드
	REF_NAME   VARCHAR(100) NULL     COMMENT '참조명' -- 참조명
)
COMMENT '공통';

-- 공통
ALTER TABLE COMM_TABLE
	ADD CONSTRAINT PK_COMM_TABLE -- 공통 기본키
		PRIMARY KEY (
			COMM_CD -- 코드
		);

-- 게시판 마스터
CREATE TABLE BOARD_MST (
	BOARD_TYPE VARCHAR(100) NOT NULL COMMENT '게시판종류', -- 게시판종류
	BOARD_NAME VARCHAR(100) NULL     COMMENT '게시판 대메뉴' -- 게시판 대메뉴
)
COMMENT '게시판 마스터';

-- 게시판 마스터
ALTER TABLE BOARD_MST
	ADD CONSTRAINT PK_BOARD_MST -- 게시판 마스터 기본키
		PRIMARY KEY (
			BOARD_TYPE -- 게시판종류
		);

-- 파일
CREATE TABLE COMM_FILE (
	FILE_CODE VARCHAR(100)  NOT NULL COMMENT 'FILE_CODE', -- FILE_CODE
	FILE_NAME VARCHAR(100)  NOT NULL COMMENT 'FILE_NAME', -- FILE_NAME
	FILE_UUID VARCHAR(100)  NOT NULL COMMENT 'FILE_UUID', -- FILE_UUID
	FILE_TYPE VARCHAR(100)  NULL     COMMENT 'FILE_TYPE', -- FILE_TYPE
	FILE_SIZE VARCHAR(100)  NULL     COMMENT 'FILE_SIZE', -- FILE_SIZE
	UP_CODE   VARCHAR(100)  NULL     COMMENT 'UP_CODE', -- UP_CODE
	FILE_PATH VARCHAR(4000) NULL     COMMENT '파일경로', -- 파일경로
	FILE_ORD  INT           NULL     COMMENT '정렬' -- 정렬
)
COMMENT '파일';

-- 파일
ALTER TABLE COMM_FILE
	ADD CONSTRAINT PK_COMM_FILE -- 파일 기본키
		PRIMARY KEY (
			FILE_CODE -- FILE_CODE
		);

-- 사용자
CREATE TABLE MEMBER_INFO (
	MEM_ID VARCHAR(300) NOT NULL COMMENT '아이디', -- 아이디
	MEN_PW VARCHAR(300) NOT NULL COMMENT '비밀번호', -- 비밀번호
	ROLE   VARCHAR(10)  NULL     COMMENT '권한', -- 권한
	NAME   VARCHAR(10)  NULL     COMMENT '이름' -- 이름
)
COMMENT '사용자';

-- 사용자
ALTER TABLE MEMBER_INFO
	ADD CONSTRAINT PK_MEMBER_INFO -- 사용자 기본키
		PRIMARY KEY (
			MEM_ID -- 아이디
		);

-- 메뉴
CREATE TABLE MENU_MST (
	UP_MENU_ID VARCHAR(100) NOT NULL COMMENT '대메뉴 번호', -- 대메뉴 번호
	MENU_NAME  VARCHAR(100) NULL     COMMENT '대메뉴 이름', -- 대메뉴 이름
	MENU_ORDER VARCHAR(100) NULL     COMMENT '대메뉴 순서' -- 대메뉴 순서
)
COMMENT '메뉴';

-- 메뉴
ALTER TABLE MENU_MST
	ADD CONSTRAINT PK_MENU_MST -- 메뉴 기본키
		PRIMARY KEY (
			UP_MENU_ID -- 대메뉴 번호
		);

-- 채번상세
CREATE TABLE AUTO_DTL (
	COMM_CD   VARCHAR(100) NOT NULL COMMENT '코드', -- 코드
	PRE_FIX   VARCHAR(100) NULL     COMMENT '참조코드번호', -- 참조코드번호
	AFTER_FIX VARCHAR(100) NULL     COMMENT '-0001', -- -0001
	REG_DATE  DATE         NULL     COMMENT '등록일', -- 등록일
	AUTO_NO   VARCHAR(100) NULL     COMMENT '코드2' -- 코드2
)
COMMENT '채번상세';

-- 채번상세
ALTER TABLE AUTO_DTL
	ADD CONSTRAINT PK_AUTO_DTL -- 채번상세 기본키
		PRIMARY KEY (
			COMM_CD -- 코드
		);

-- 채번마스터
CREATE TABLE AUTO_NO_MST (
	AUTO_NO  VARCHAR(100) NOT NULL COMMENT '코드', -- 코드
	AUTO_NM  VARCHAR(100) NULL     COMMENT '이름', -- 이름
	REF_CODE VARCHAR(100) NULL     COMMENT '참조코드', -- 참조코드
	REF_NAME VARCHAR(100) NULL     COMMENT '참조명' -- 참조명
)
COMMENT '채번마스터';

-- 채번마스터
ALTER TABLE AUTO_NO_MST
	ADD CONSTRAINT PK_AUTO_NO_MST -- 채번마스터 기본키
		PRIMARY KEY (
			AUTO_NO -- 코드
		);

-- 게시판_상세
CREATE TABLE BOARD_DTL (
	BOARD_CODE     VARCHAR(100)  NOT NULL COMMENT '게시글코드', -- 게시글코드
	BOARD_TITLE    VARCHAR(100)  NULL     COMMENT '게시글 제목', -- 게시글 제목
	BOARD_CONTENTS VARCHAR(4000) NULL     COMMENT '게시글내용', -- 게시글내용
	REG_DATE       DATE          NULL     COMMENT '등록일', -- 등록일
	BOARD_VIEW_CNT INT           NULL     COMMENT '조회수', -- 조회수
	BOARD_TYPE     VARCHAR(100)  NULL     COMMENT '게시판종류', -- 게시판종류
	MEM_ID         VARCHAR(300)  NULL     COMMENT '아이디' -- 아이디
)
COMMENT '게시판_상세';

-- 게시판_상세
ALTER TABLE BOARD_DTL
	ADD CONSTRAINT PK_BOARD_DTL -- 게시판_상세 기본키
		PRIMARY KEY (
			BOARD_CODE -- 게시글코드
		);

-- 메뉴상세
CREATE TABLE MENU_DTL (
	MENU_ID    VARCHAR(100) NOT NULL COMMENT 'MENU_ID', -- MENU_ID
	MENU_NAME  VARCHAR(100) NULL     COMMENT 'MENU_NAME', -- MENU_NAME
	TREE_ORDER VARCHAR(100) NULL     COMMENT 'TREE_ORDER', -- TREE_ORDER
	UP_MENU_ID VARCHAR(100) NULL     COMMENT '대메뉴 번호' -- 대메뉴 번호
)
COMMENT '메뉴상세';

-- 메뉴상세
ALTER TABLE MENU_DTL
	ADD CONSTRAINT PK_MENU_DTL -- 메뉴상세 기본키
		PRIMARY KEY (
			MENU_ID -- MENU_ID
		);

-- 서브타이틀
CREATE TABLE DISH_DTL_SUB (
	SUBTITLE_CODE VARCHAR(10)  NOT NULL COMMENT '서브타이틀_번호', -- 서브타이틀_번호
	SUBTITLE_NAME VARCHAR(100) NOT NULL COMMENT '서브타이틀_제목' -- 서브타이틀_제목
)
COMMENT '서브타이틀';

-- 서브타이틀
ALTER TABLE DISH_DTL_SUB
	ADD CONSTRAINT PK_DISH_DTL_SUB -- 서브타이틀 기본키
		PRIMARY KEY (
			SUBTITLE_CODE -- 서브타이틀_번호
		);

-- 반찬
ALTER TABLE DISH_INFO
	ADD CONSTRAINT FK_DISH_DTL_SUB_TO_DISH_INFO -- 서브타이틀 -> 반찬
		FOREIGN KEY (
			SUBTITLE_CODE -- 서브타이틀_번호
		)
		REFERENCES DISH_DTL_SUB ( -- 서브타이틀
			SUBTITLE_CODE -- 서브타이틀_번호
		);

-- 채번상세
ALTER TABLE AUTO_DTL
	ADD CONSTRAINT FK_AUTO_NO_MST_TO_AUTO_DTL -- 채번마스터 -> 채번상세
		FOREIGN KEY (
			AUTO_NO -- 코드2
		)
		REFERENCES AUTO_NO_MST ( -- 채번마스터
			AUTO_NO -- 코드
		);

-- 게시판_상세
ALTER TABLE BOARD_DTL
	ADD CONSTRAINT FK_BOARD_MST_TO_BOARD_DTL -- 게시판 마스터 -> 게시판_상세
		FOREIGN KEY (
			BOARD_TYPE -- 게시판종류
		)
		REFERENCES BOARD_MST ( -- 게시판 마스터
			BOARD_TYPE -- 게시판종류
		);

-- 게시판_상세
ALTER TABLE BOARD_DTL
	ADD CONSTRAINT FK_MEMBER_INFO_TO_BOARD_DTL -- 사용자 -> 게시판_상세
		FOREIGN KEY (
			MEM_ID -- 아이디
		)
		REFERENCES MEMBER_INFO ( -- 사용자
			MEM_ID -- 아이디
		);

-- 메뉴상세
ALTER TABLE MENU_DTL
	ADD CONSTRAINT FK_MENU_MST_TO_MENU_DTL -- 메뉴 -> 메뉴상세
		FOREIGN KEY (
			UP_MENU_ID -- 대메뉴 번호
		)
		REFERENCES MENU_MST ( -- 메뉴
			UP_MENU_ID -- 대메뉴 번호
		);